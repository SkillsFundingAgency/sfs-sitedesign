{% extends "layout.html" %}

{% block page_title %}
    {% if error %}Error: {% endif %}Documents sent to ESFA
{% endblock %}

{% block content %}

<main role="main" id="content">

    <!-- GOV.UK phase banner (Beta) - START -->
    {% include "includes/phase_banner_beta.html" %}
    <!-- GOV.UK phase banner (Beta) - END -->

    <!-- Account Management (IDAMS) - START -->
    {% include "includes/idams-account-header.html" %}
    <!-- Account Management (IDAMS) - END -->

    <div class="grid-row">
        
        <div class="column-full">

            <div id="global-breadcrumb" class="breadcrumbs group">
                <nav>
                    <ol>
                        <li><a href="../../../external/parent/document-exchange/dashboard">Home</a></li>
                        <li><a href="home">Document exchange</a></li>
                        <li>Documents sent to <abbr title="Education and Skills Funding Agency">ESFA</abbr></li>
                    </ol>
                </nav>
            </div>

            <form method="post" class="form">

                {% if filterResultsUpdated %}
                <div class="visuallyhidden" role="alert" aria-labelledby="filter-results-updated">
                    <h2 id="filter-results-updated" class="pager-summary">Results updated, now showing 1 to 7 of 7 documents</h2>
                </div>
                {% endif %}
    
                <div class="form-group">
                    <h1 class="heading-xlarge">Documents sent to <abbr title="Education and Skills Funding Agency">ESFA</abbr></h1>
                    <p>If youâ€™ve just sent a document, it can take a few minutes to show here.</p>
                    <!-- <p><a href="document-upload-file-type">Send a document</a></p> -->
                </div>
                
                <div class="form-group">

                    <!-- New accordion section to display/hide filters (START) -->
                    <div class="accordion">

                        <div class="accordion-section">

                            <div class="accordion-section-header">
                                <h2 class="heading-medium">Filters</h2>
                            </div>

                            <div class="accordion-section-body">

                                <div class="filter-content-container form-group">

                                    <div id="filterSection">

                                        <!-- Filter Part 1: DROPDOWN (START) -->
                                        <div class="column-one-third">

                                            <div class="listbox-area">
                                                <span id="exp_elem" class="govuk-label">Filter by:</span>
                                                
                                                <div class="form-group">

                                                    <div id="exp_wrapper">
                                                        <button aria-haspopup="listbox" aria-labelledby="exp_elem exp_button" id="exp_button">All documents</button>
                                                        <ul id="exp_elem_list" tabindex="-1" role="listbox" aria-labelledby="exp_elem" class="hidden" aria-activedescendant="exp_elem_Al">
                                                            <li id="exp_elem_Al" role="option" data-filter="any" aria-selected="true" class="focused">All documents</li>
                                                            <li id="exp_elem_Pu" role="option" data-filter="Academic year">Academic year</li>
                                                            <li id="exp_elem_Am" role="option" data-filter="Document type">Document type</li>
                                                            <li id="exp_elem_Pv" role="option" data-filter="Organisation">Organisation</li>
                                                            <li id="exp_elem_Pv" role="option" data-filter="Status">Status</li>
                                                        </ul>
                                                    </div>

                                                </div>

                                            </div>

                                        </div>
                                        <!-- Filter Part 1: DROPDOWN (END) -->

                                        <!-- Filter Part 2: SEARCH (START) -->
                                        <div class="column-two-thirds">
                                            
                                            <div class="search-table search-section">
                                                <fieldset>
                                        
                                                    <div class="form-group search-field search-field-darker">
                                                        <input type="hidden" name="clientsFilter" value="new">

                                                        <div class="search-input search-input-with-button">
                                                            <label class="label" for="searchClients">
                                                            <!-- Client reference -->
                                                            <br>
                                                            <span class="visuallyhidden">Search for a document by your chosen filter type</span>
                                                            </label>

                                                            <div class="autocomplete__parent_wrapper">

                                                                <div class="autocomplete__wrapper">

                                                                    <div aria-atomic="true" aria-live="polite" role="status" style="border: 0px; clip: rect(0px 0px 0px 0px); height: 1px; margin-bottom: -1px; margin-right: -1px; overflow: hidden; padding: 0px; position: absolute; white-space: nowrap; width: 1px;">
                                                                        <span>No search results.</span>
                                                                        <span>,,</span>
                                                                    </div>

                                                                    <p id="search-default-value" class="hidden"></p>
                                                                    
                                                                    <div class="autocomplete__parent_wrapper">
                                                                        
                                                                        <div class="autocomplete__wrapper">
                                                                            
                                                                            <div aria-atomic="true" aria-live="polite" role="status" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin-bottom: -1px; margin-right: -1px; overflow: hidden; padding: 0px; position: absolute; white-space: nowrap; width: 1px;">
                                                                                <span>No search results.</span><span>,,</span>
                                                                            </div>
                                                                            
                                                                            <input aria-owns="searchClients__listbox" autocomplete="off" class="autocomplete__input" id="searchClients" name="searchClients" placeholder="Search for a document by your chosen filter type" role="combobox" type="text">
                                                                            <ul class="autocomplete__menu autocomplete__menu--overlay autocomplete__menu--hidden" id="searchClients__listbox" role="listbox"></ul>
                                                                        </div>
                                                                    
                                                                    </div>
                                                                    
                                                                    <input aria-owns="searchClients__listbox" autocomplete="off" class="autocomplete__input" id="searchClients-old" name="" placeholder="Search for a document by your chosen filter type" role="combobox" type="text" value="" style="display: none;">
                                                                    <ul class="autocomplete__menu autocomplete__menu--overlay autocomplete__menu--hidden" id="searchClients__listbox" role="listbox">
                                                                    </ul>

                                                                </div>

                                                            </div>

                                                            <input class="form-control form-control-3-4" name="" id="searchClients-old" type="text" value="" style="display: none;">
                                                    
                                                        </div>

                                                        <div class="search-submit">
                                                            <button class="button" type="submit" id="searchClientsSubmit" name="searchClientsSubmit" value="Search clients">Search clients</button>
                                                        </div>

                                                    </div>

                                                </fieldset>
                                            </div>
                                            
                                        </div>
                                        <!-- Filter Part 2: SEARCH (END) -->

                                    </div>

                                    <!-- Add (clone) a new filter section -->
                                    <div id="insertBeforeReference" class="column-full">
                                        <a href="#" onclick="cloneFilterSection()">+ Add another filter</a>
                                    </div>

                                </div>

                            </div>

                        </div>

                    </div>
                    <!-- New accordion section to display/hide filters (END) -->

                </div>

                <!-- Document list -->
                <div id="document-list" class="document-list">
                    {% if paginationRequired %}
                    {% if page1 %}
                    <h2 class="heading-medium">Showing 1 to 25 of 54 documents</h2>
                    {% elif page2 %}
                    <h2 class="heading-medium">Showing 26 to 50 of 54 documents</h2>
                    {% elif page3 %}
                    <h2 class="heading-medium">Showing 51 to 54 of 54 documents</h2>
                    {% endif %}
                    {% else %}
                    <h2 class="heading-medium">Showing 1 to 7 of 7 documents</h2>
                    {% endif %}

                    <table>
                        <thead>
                            <tr class="first">
                                <th>
                                    Document name
                                </th>                                
                                <th>
                                    Document type
                                </th>
                                <th>
                                    Organisation
                                </th> 
                                <th>
                                    Version
                                </th>
                                <!-- Hidden column header for filtering purposes (e.g. allows user to filter by academic year) -->
                                <th style="display: none;">
                                </th>
                            </tr>
                        </thead>
                        <!-- 54 RESULTS -->
                        {% if paginationRequired %}
                        <!-- SHOWING 1 TO 25 OF 54 DOCUMENTS -->
                        {% if page1 %}

                        <!-- SHOWING 26 TO 50 OF 54 DOCUMENTS -->
                        {% elif page2 %}

                        <!-- SHOWING 51 TO 54 OF 54 DOCUMENTS -->
                        {% elif page3 %}

                        {% endif %}
                        <!-- 7 RESULTS -->
                        {% else %}
                        <!-- SHOWING 1 TO 7 OF 7 DOCUMENTS -->
                        <tbody>
                            <tr>
                                <td style="vertical-align: top;">
                                    <a href="#">Business case (2018-2019) v2.xls</a>
                                    <br>
                                    <strong class="govuk-tag govuk-bgred">UPDATED</strong>
                                    <br>
                                    Sent by J Jones at 11:17am on 8 October 2018
                                    <br>
                                    <br>
                                    <a href="#">Business case (2018-2019).xls</a>
                                    <br>
                                    Sent by J Jones at 5:44pm on 1 April 2018
                                </td>
                                <td class="01" rel="01" style="vertical-align: top;">
                                    Business case
                                </td>
                                <td class="Child02" rel="Child02" style="vertical-align: top;">
                                    {% if parent == 'MAT' %}Mole Catch Academy{% elif parent == 'LA' %}Sir Frank Whittle Primary School{% else %}[[Academy or school name]]{% endif %}
                                </td>
                                <td style="vertical-align: top;">
                                    2
                                    <br>
                                    <br>
                                    <br>
                                    <br>
                                    1
                                </td>
                                <!-- Hidden column for filtering purposes (e.g. allows user to filter by academic year) -->
                                <td style="display: none;" class="2018-2019" rel="2018-2019">
                                    2018-2019
                                </td>
                            </tr>
                            <tr>
                                <td style="vertical-align: top;">
                                    <a href="#">Business case audit evidence.pdf</a>
                                    <br>
                                    Sent by J Jones at 11:29am on 8 October 2018
                                </td>
                                <td class="02" rel="02" style="vertical-align: top;">
                                    Business case audit evidence
                                </td>
                                <td class="Child01" rel="Child01" style="vertical-align: top;">
                                    {% if parent == 'MAT' %}Frog Field Academy {% elif parent == 'LA' %}Foxford School{% else %}[[Academy or school name]]{% endif %}
                                </td>
                                <td style="vertical-align: top;">
                                    1
                                </td>
                                <!-- Hidden column for filtering purposes (e.g. allows user to filter by academic year) -->
                                <td style="display: none;" class="2018-2019" rel="2018-2019">
                                    2018-2019
                                </td>
                            </tr>
                            <tr>
                                <td style="vertical-align: top;">
                                    <a href="#">Financial Report (2018-2019).xls</a>
                                    <br>
                                    Sent by J Jones at 2:33pm on 23 March 2018
                                </td>
                                <td class="03" rel="03" style="vertical-align: top;">
                                    Financial report
                                </td>
                                <td class="Parent" rel="Parent" style="vertical-align: top;">
                                    {% if parent == 'MAT' %}Bill Shoggins Academy Trust{% elif parent == 'LA' %}Bridhighouse Council{% else %}[[LA/MAT name]]{% endif %}
                                </td>
                                <td style="vertical-align: top;">
                                    1
                                </td>
                                <!-- Hidden column for filtering purposes (e.g. allows user to filter by academic year) -->
                                <td style="display: none;" class="2017-2018" rel="2017-2018">
                                    2017 to 2018
                                </td>
                            </tr>
                            <tr>
                                <td style="vertical-align: top;">
                                    <a href="#">Business Case (2017-2018).xls</a>
                                    <br>
                                    Sent by J Jones at 3:03am on 5 October 2017
                                </td>
                                <td class="01" rel="01" style="vertical-align: top;">
                                    Business case
                                </td>
                                <td class="Child03" rel="Child03" style="vertical-align: top;">
                                    {% if parent == 'MAT' %}Ryckborst Academy of Justice{% elif parent == 'LA' %}Tudor Grange Secondary School{% else %}[[Academy or school name]]{% endif %}
                                </td>
                                <td style="vertical-align: top;">
                                    1
                                </td>
                                <!-- Hidden column for filtering purposes (e.g. allows user to filter by academic year) -->
                                <td style="display: none;" class="2017-2018" rel="2017-2018">
                                    2017 to 2018
                                </td>
                            </tr>
                            <tr>
                                <td style="vertical-align: top;">
                                    <a href="#">Business case audit evidence.pdf</a>
                                    <br>
                                    Sent by J Jones at 3:09am on 5 October 2017
                                </td>
                                <td class="02" rel="02" style="vertical-align: top;">
                                    Business case audit evidence
                                </td>
                                <td class="Child01" rel="Child01" style="vertical-align: top;">
                                    {% if parent == 'MAT' %}Frog Field Academy {% elif parent == 'LA' %}Foxford School{% else %}[[Academy or school name]]{% endif %}
                                </td>
                                <td style="vertical-align: top;">
                                    1
                                </td>
                                <!-- Hidden column for filtering purposes (e.g. allows user to filter by academic year) -->
                                <td style="display: none;" class="2017-2018" rel="2017-2018">
                                    2017 to 2018
                                </td>
                            </tr>
                            <tr>
                                <td style="vertical-align: top;">
                                    <a href="#">Infrastructure Return (2017-2018).xls</a>
                                    <br>
                                    Sent by J Jones at 10:21am on 13 September 2017
                                </td>
                                <td class="04" rel="04" style="vertical-align: top;">
                                    Infrastructure return
                                </td>
                                <td class="Child02" rel="Child02" style="vertical-align: top;">
                                    {% if parent == 'MAT' %}Mole Catch Academy{% elif parent == 'LA' %}Sir Frank Whittle Primary School{% else %}[[Academy or school name]]{% endif %}
                                </td>
                                <td style="vertical-align: top;">
                                    1
                                </td>
                                <!-- Hidden column for filtering purposes (e.g. allows user to filter by academic year) -->
                                <td style="display: none;" class="2017-2018" rel="2017-2018">
                                    2017 to 2018
                                </td>
                            </tr>
                        </tbody>
                        {% endif %}
                    </table>

                    <div class="form-group">
                        {% if paginationRequired %}
                        {% if page1 %}
                        <div class="pager">

                            <div class="pager-controls">
                                <ul class="pager-items">
                                    <li>
                                        <span class="text-bold">1</span>
                                    </li>
                                    <li>
                                        <span class="visuallyhidden">Page </span>
                                        <a href="sent-to-esfa?paginationRequired=true&page2=true">2</a>
                                        <span class="visuallyhidden"> of 3</span>
                                    </li>
                                    <li>
                                        <span class="visuallyhidden">Page </span>
                                        <a href="sent-to-esfa?paginationRequired=true&page3=true">3</a>
                                        <span class="visuallyhidden"> of 3</span>
                                    </li>
                                    <a class="pager-next" href="sent-to-esfa?paginationRequired=true&page2=true">Next</a>
                                    <span class="visuallyhidden"> page</span>
                                </ul>                                
                            </div>
            
                            <div class="pager-summary">
                                Showing 1 to 25 of 54 documents
                                <!-- <span id="totalDocumentCount" style="display: none;">54</span> -->
                            </div>
            
                        </div>
                        {% elif page2 %}
                        <div class="pager">

                            <div class="pager-controls">                               
                                <ul class="pager-items">
                                    <a class="pager-next" href="sent-to-esfa?paginationRequired=true&page1=true">Previous</a>
                                    <span class="visuallyhidden"> page</span>
                                    &nbsp;&nbsp;
                                    <li>
                                        <span class="visuallyhidden">Page </span>
                                        <a href="sent-to-esfa?paginationRequired=true&page1=true">1</a>
                                        <span class="visuallyhidden"> of 3</span>
                                    </li>
                                    <li>
                                        <span class="text-bold">2</span>
                                    </li>
                                    <li>
                                        <span class="visuallyhidden">Page </span>
                                        <a href="sent-to-esfa?paginationRequired=true&page3=true">3</a>
                                        <span class="visuallyhidden"> of 3</span>
                                    </li>
                                    <a class="pager-next" href="sent-to-esfa?paginationRequired=true&page3=true">Next</a>
                                    <span class="visuallyhidden"> page</span>
                                </ul>
                            </div>
            
                            <div class="pager-summary">
                                Showing 26 to 50 of 54 documents
                                <!-- <span id="totalDocumentCount" style="display: none;">54</span> -->
                            </div>
            
                        </div>
                        {% elif page3 %}
                        <div class="pager">

                            <div class="pager-controls">                               
                                <ul class="pager-items">
                                    <a class="pager-next" href="sent-to-esfa?paginationRequired=true&page2=true">Previous</a>
                                    <span class="visuallyhidden"> page</span>
                                    &nbsp;&nbsp;
                                    <li>
                                        <span class="visuallyhidden">Page </span>
                                        <a href="sent-to-esfa?paginationRequired=true&page1=true">1</a>
                                        <span class="visuallyhidden"> of 3</span>
                                    </li>
                                    <li>
                                        <span class="visuallyhidden">Page </span>
                                        <a href="sent-to-esfa?paginationRequired=true&page2=true">2</a>
                                        <span class="visuallyhidden"> of 3</span>
                                    </li>
                                    <li>
                                        <span class="text-bold">3</span>
                                    </li>
                                </ul>
                            </div>
            
                            <div class="pager-summary">
                                Showing 51 to 54 of 54 documents
                                <!-- <span id="totalDocumentCount" style="display: none;">54</span> -->
                            </div>
            
                        </div>
                        {% endif %}
                        {% else %}
                        <div class="pager">
            
                            <div class="pager-summary">
                                Showing 1 to 7 of 7 documents
                                <!-- <span id="totalDocumentCount" style="display: none;">7</span> -->
                            </div>
            
                        </div>
                        {% endif %}
                    </div>

                    <div class="form-group direction-rtl">
                        <a class="app-c-back-to-top dont-print" href="#content">
                            <svg class="app-c-back-to-top__icon" xmlns="http://www.w3.org/2000/svg" width="13" height="17" viewBox="0 0 13 17">
                                <path fill="currentColor" d="M6.5 0L0 6.5 1.4 8l4-4v12.7h2V4l4.3 4L13 6.4z"></path>
                            </svg>
                            Back to top
                        </a>
                    </div>

                </div>

            </form>

        </div>

    </div>

</main>

<!-- JavaScript (START) -->
<script src="/public/javascripts/lifted/jquery-2.1.4.js"></script>
<script src="/public/javascripts/lifted/jquery-ui.js"></script>
<script src="/public/javascripts/lifted/jquery.unobtrusive-ajax.js"></script>
<script src="/public/javascripts/lifted/application.js"></script>
<script src="/public/javascripts/lifted/bind.js"></script>
<script src="/public/javascripts/lifted/details.polyfill.js"></script>
<script src="/public/javascripts/lifted/govuk-template.js"></script>
<script src="/public/javascripts/lifted/HeaderFooterOnly.js"></script>
<script src="/public/javascripts/lifted/selection-buttons.js"></script>
<!-- <script src="/public/javascripts/lifted/pds.js"></script> -->
<script>
        
    function cloneFilterSection() {
        
        var myFilter = document.getElementById("filterSection");
        var clone = myFilter.cloneNode(true);
        // var insertBeforeReference = document.getElementById("insertBeforeReference");
    
        document.body.appendChild(clone);
        // document.body.insertBefore(clone, insertBeforeReference);
    }

</script>
<!-- Filters for the document list -->
<script src="/public/javascripts/{{version}}/filters-and-checkboxes.js"></script>
<!-- Sorting for the document list -->
<script src="/public/javascripts/{{version}}/sorting-fileshare.js"></script>
<!-- JavaScript (END) -->

{% endblock %}
